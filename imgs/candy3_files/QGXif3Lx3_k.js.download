if (self.CavalryLogger) { CavalryLogger.start_js(["EiCZL"]); }

__d("CometPageCoverSlideshowUpdateMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"data",variableName:"input"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometPageCoverSlideshowUpdateMutation",selections:[{alias:null,args:b,concreteType:"PageCoverSlideshowSaveResponsePayload",kind:"LinkedField",name:"page_cover_slideshow_save",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometPageCoverRenderer_page"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometPageCoverSlideshowUpdateMutation",selections:[{alias:null,args:b,concreteType:"PageCoverSlideshowSaveResponsePayload",kind:"LinkedField",name:"page_cover_slideshow_save",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:["CometPageCoverPhotoRenderer","CometPageCoverVideoRenderer","CometPageCoverSlideshowRenderer","PagesCometAdminCoverPhotoRenderer","PagesCometAdminCoverSlideshowRenderer","PagesCometAdminCoverVideoRenderer"]}],concreteType:null,kind:"LinkedField",name:"comet_page_cover_renderer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{documentName:"CometPageCoverRenderer_page",fragmentName:"CometPageCoverPhotoRenderer_coverRenderer",fragmentPropName:"coverRenderer",kind:"ModuleImport"}],type:"CometPageCoverPhotoRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometPageCoverRenderer_page",fragmentName:"CometPageCoverVideoRenderer_coverRenderer",fragmentPropName:"coverRenderer",kind:"ModuleImport"}],type:"CometPageCoverVideoRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometPageCoverRenderer_page",fragmentName:"CometPageCoverSlideshowRenderer_coverRenderer",fragmentPropName:"coverRenderer",kind:"ModuleImport"}],type:"CometPageCoverSlideshowRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometPageCoverRenderer_page",fragmentName:"PagesCometAdminCoverPhotoRenderer_coverRenderer",fragmentPropName:"coverRenderer",kind:"ModuleImport"}],type:"PagesCometAdminCoverPhotoRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometPageCoverRenderer_page",fragmentName:"PagesCometAdminCoverSlideshowRenderer_coverRenderer",fragmentPropName:"coverRenderer",kind:"ModuleImport"}],type:"PagesCometAdminCoverSlideshowRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometPageCoverRenderer_page",fragmentName:"PagesCometAdminCoverVideoRenderer_coverRenderer",fragmentPropName:"coverRenderer",kind:"ModuleImport"}],type:"PagesCometAdminCoverVideoRenderer",abstractKey:null}],storageKey:'comet_page_cover_renderer(supported:["CometPageCoverPhotoRenderer","CometPageCoverVideoRenderer","CometPageCoverSlideshowRenderer","PagesCometAdminCoverPhotoRenderer","PagesCometAdminCoverSlideshowRenderer","PagesCometAdminCoverVideoRenderer"])'}],storageKey:null}],storageKey:null}]},params:{id:"3313467322078516",metadata:{},name:"CometPageCoverSlideshowUpdateMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometPageCoverVideoUpdateMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"data",variableName:"input"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometPageCoverVideoUpdateMutation",selections:[{alias:null,args:b,concreteType:"PageCoverVideoSaveResponsePayload",kind:"LinkedField",name:"page_cover_video_save",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometPageCoverRenderer_page"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometPageCoverVideoUpdateMutation",selections:[{alias:null,args:b,concreteType:"PageCoverVideoSaveResponsePayload",kind:"LinkedField",name:"page_cover_video_save",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:["CometPageCoverPhotoRenderer","CometPageCoverVideoRenderer","CometPageCoverSlideshowRenderer","PagesCometAdminCoverPhotoRenderer","PagesCometAdminCoverSlideshowRenderer","PagesCometAdminCoverVideoRenderer"]}],concreteType:null,kind:"LinkedField",name:"comet_page_cover_renderer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{documentName:"CometPageCoverRenderer_page",fragmentName:"CometPageCoverPhotoRenderer_coverRenderer",fragmentPropName:"coverRenderer",kind:"ModuleImport"}],type:"CometPageCoverPhotoRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometPageCoverRenderer_page",fragmentName:"CometPageCoverVideoRenderer_coverRenderer",fragmentPropName:"coverRenderer",kind:"ModuleImport"}],type:"CometPageCoverVideoRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometPageCoverRenderer_page",fragmentName:"CometPageCoverSlideshowRenderer_coverRenderer",fragmentPropName:"coverRenderer",kind:"ModuleImport"}],type:"CometPageCoverSlideshowRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometPageCoverRenderer_page",fragmentName:"PagesCometAdminCoverPhotoRenderer_coverRenderer",fragmentPropName:"coverRenderer",kind:"ModuleImport"}],type:"PagesCometAdminCoverPhotoRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometPageCoverRenderer_page",fragmentName:"PagesCometAdminCoverSlideshowRenderer_coverRenderer",fragmentPropName:"coverRenderer",kind:"ModuleImport"}],type:"PagesCometAdminCoverSlideshowRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometPageCoverRenderer_page",fragmentName:"PagesCometAdminCoverVideoRenderer_coverRenderer",fragmentPropName:"coverRenderer",kind:"ModuleImport"}],type:"PagesCometAdminCoverVideoRenderer",abstractKey:null}],storageKey:'comet_page_cover_renderer(supported:["CometPageCoverPhotoRenderer","CometPageCoverVideoRenderer","CometPageCoverSlideshowRenderer","PagesCometAdminCoverPhotoRenderer","PagesCometAdminCoverSlideshowRenderer","PagesCometAdminCoverVideoRenderer"])'}],storageKey:null}],storageKey:null}]},params:{id:"3344166719001491",metadata:{},name:"CometPageCoverVideoUpdateMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PagesCometCoverSlideshowEditorQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"prefilled_slideshow_photos",plural:!0,selections:[c,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesCometCoverSlideshowEditorQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCover",kind:"LinkedField",name:"cover",plural:!1,selections:[d],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesCometCoverSlideshowEditorQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCover",kind:"LinkedField",name:"cover",plural:!1,selections:[d,c],storageKey:null},c],storageKey:null}]},params:{id:"2580160425404804",metadata:{},name:"PagesCometCoverSlideshowEditorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesCometCoverVideoThumbnailPickerItems_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesCometCoverVideoThumbnailPickerItems_video",selections:[{alias:null,args:null,concreteType:"VideoThumbnailsConnection",kind:"LinkedField",name:"video_thumbnails",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoThumbnailsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("CometPageCoverSlideshowPicker.react",["ix","fbt","CometAspectRatioContainer.react","CometBackgroundImage.react","CometLazyPopoverTrigger.react","CometPressable.react","CometTransientDialogProvider.react","JSResource","ProfileCometCoverPhotoEditContext","ProfileCometCoverPhotoUploaderContainer.react","React","TetraCircleButton.react","TetraIcon.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React"),j=180/67,k=b("JSResource")("CometPageCoverSlideshowEditMenu.react").__setRef("CometPageCoverSlideshowPicker.react");function a(a){var c=a.disabled,d=c===void 0?!1:c,e=a.mediaID,f=a.pageID,l=a.slideshowIndex,m=a.uri;c=i.useContext(b("ProfileCometCoverPhotoEditContext"));var n=c.dispatch;a=c.state;var o=a.slideshowData;o=(c=o)!=null?c:[];var p=i.useCallback(function(){var a=[];o.map(function(b){b.mediaID!==e&&a.push(b)});n({slideshowData:a,type:"EDIT_SLIDESHOW"})},[o,n,e]),q=i.useCallback(function(){n({selectedSlideshowIndex:l,type:"CHOOSE_SLIDESHOW"})},[n,l]);a=i.jsx(b("CometTransientDialogProvider.react"),{children:i.jsx(b("ProfileCometCoverPhotoUploaderContainer.react"),{children:function(a){return i.jsx(b("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{onRemove:p,openFileSelector:a,pageID:f,slideshowIndex:l,uri:m},popoverResource:k,position:"below",children:function(a,c){var e;return i.jsx(b("CometPressable.react"),{"aria-label":h._("Foto bearbeiten"),disabled:d,display:"inline",onPress:q,ref:a,children:i.jsx("div",{className:"k4urcfbm l9j0dhe7 stjgntxs ni8dbmo4 datstx6m qttc61fc ihh4hy1g kdgqqoy6 jk6sbkaj ljqcmsvz",children:i.jsxs(b("CometAspectRatioContainer.react"),{aspectRatio:j,children:[i.jsx(b("CometBackgroundImage.react"),{src:(e=m)!=null?e:""}),i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 oaz4zybt i09qtzwb qttc61fc ihh4hy1g kdgqqoy6 jk6sbkaj"}),i.jsx("div",{className:"plgsh5y4 pmk7jnqg b5fwa0m2",children:i.jsx(b("TetraCircleButton.react"),{color:"primary",disabled:d,icon:b("fbicon")._(g("477824"),12),label:h._("Foto bearbeiten"),onPress:c,ref:a,size:24})})]})})})}})}})});c=i.jsx(b("CometTransientDialogProvider.react"),{children:i.jsx(b("ProfileCometCoverPhotoUploaderContainer.react"),{children:function(a){return i.jsx(b("CometLazyPopoverTrigger.react"),{align:"start",popoverProps:{onRemove:p,openFileSelector:a,pageID:f,slideshowIndex:l,uri:m},popoverResource:k,position:"below",children:function(a,c){return i.jsx(b("CometPressable.react"),{"aria-label":h._("Foto bearbeiten"),disabled:d,display:"inline",onPress:c,ref:a,children:i.jsx("div",{className:"k4urcfbm l9j0dhe7 stjgntxs ni8dbmo4 datstx6m qttc61fc ihh4hy1g kdgqqoy6 jk6sbkaj ljqcmsvz",children:i.jsxs(b("CometAspectRatioContainer.react"),{aspectRatio:j,children:[i.jsx("div",{className:"taijpn5t datstx6m cbu4d94t j83agx80 bp9cbjyn",children:d===!1?i.jsx(b("TetraIcon.react"),{color:"primary",icon:b("fbicon")._(g("481773"),16)}):null}),i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 oaz4zybt i09qtzwb qttc61fc ihh4hy1g kdgqqoy6 jk6sbkaj"})]})})})}})}})});return m!==void 0&&m!==""?a:c}}),null);
__d("CometPageCoverSlideshowUpdateMutation",["CometRelay","PagesCometAdminCompletionMeterUtils","WebPixelRatio","CometPageCoverSlideshowUpdateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.updatePageCoverSlideshow=a;var g,h=g!==void 0?g:g=b("CometPageCoverSlideshowUpdateMutation.graphql");function a(a,c,d){var e=c.items,f=c.pageID;c=function(a){b("PagesCometAdminCompletionMeterUtils").updateStatusForItemType(a,{actionType:"add_cover_photo",newStatus:"completed",pageID:f})};b("CometRelay").commitMutation(a,babelHelpers["extends"]({mutation:h,optimisticUpdater:c,updater:c,variables:{input:{items:e,page_id:f},scale:b("WebPixelRatio").get()}},d))}}),null);
__d("CometPageCoverVideoUpdateMutation",["CometRelay","PagesCometAdminCompletionMeterUtils","WebPixelRatio","CometPageCoverVideoUpdateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.updateCoverVideo=a;var g,h=g!==void 0?g:g=b("CometPageCoverVideoUpdateMutation.graphql");function a(a,c,d){var e=c.containerHeight,f=c.containerWidth,g=c.loopActive,i=c.pageID,j=c.preferredThumbnailID;c=c.videoID;var k=function(a){b("PagesCometAdminCompletionMeterUtils").updateStatusForItemType(a,{actionType:"add_cover_photo",newStatus:"completed",pageID:i})};b("CometRelay").commitMutation(a,babelHelpers["extends"]({mutation:h,optimisticUpdater:k,updater:k,variables:{input:{cover_container_height:e,cover_container_width:f,page_id:i,preferred_thumbnail_id:j,should_cover_video_loop:g,video_id:c},scale:b("WebPixelRatio").get()}},d))}}),null);
__d("PagesCometCoverVideoThumbnailPickerItems.react",["fbt","CometHScroll.react","CometHScrollChild.react","CometRelay","React","TetraishEntityHeaderCoverMedia.react","recoverableViolation","PagesCometCoverVideoThumbnailPickerItems_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React");function a(a){var c=a.onChange,d=a.onSetThumbnailLength,e=a.onThumbnailIndexChange;a=a.video;a=b("CometRelay").useFragment(h!==void 0?h:h=b("PagesCometCoverVideoThumbnailPickerItems_video.graphql"),a);var f=i.useState(0),j=f[0],k=f[1];f=i.useCallback(function(a){a!==null&&k(a.getBoundingClientRect().width)},[]);a=(a=a==null?void 0:(a=a.video_thumbnails)==null?void 0:a.edges)!=null?a:[];var l=i.useState(0),m=l[0],n=l[1];if(a!=null&&a.length!==0){c((l=a[m].node)==null?void 0:l.id);d(a.length);e(m+1)}c=i.useCallback(function(a){n(a)},[n]);return a!=null?i.jsx("div",{ref:f,children:i.jsx(b("CometHScroll.react"),{accessibilityLabel:g._("Video-Miniaturbilder"),itemsToScroll:1,onIndexChange:c,snapPosition:"center",children:a.map(function(a,c){var d,e,f,g;d=a==null?void 0:(d=a.node)==null?void 0:d.url;e=(e=a==null?void 0:(e=a.node)==null?void 0:(e=e.image)==null?void 0:e.uri)!=null?e:"";f=(f=a==null?void 0:(f=a.node)==null?void 0:(f=f.image)==null?void 0:f.width)!=null?f:0;g=(g=a==null?void 0:(g=a.node)==null?void 0:(g=g.image)==null?void 0:g.height)!=null?g:0;(f===0||g===0)&&b("recoverableViolation")("Cover photo width / height can not be null, undefined. or 0","pages_consumer_experience_www");return i.jsx(b("CometHScrollChild.react"),{width:Math.round(j),children:i.jsx(b("TetraishEntityHeaderCoverMedia.react"),{coverMedia:{"aria-label":"Link to open page cover photo",focusX:.5,focusY:.5,height:g,linkProps:d!=null?{url:d}:void 0,mediaSource:e,width:f}})},(d=a==null?void 0:(g=a.node)==null?void 0:g.id)!=null?d:c)})})}):null}}),null);
__d("PagesCometCoverContentRepositioner.react",["fbt","CometMiddot.react","CometPageCoverVideoUpdateMutation","CometRelay","CometToggle.react","PagesCometCoverVideoThumbnailPickerItems.react","ProfileCometCoverPhotoEditContext","ProfileCometCoverPhotoEditStrings","React","TetraishEntityHeaderCoverActionBar.react","TetraishEntityHeaderCoverMedia.react","TetraishEntityHeaderCoverMediaFooter.react","TetraText.react","deferredLoadComponent","requireDeferred","usePagesCometCoverPhotoUpdateMutation","stylex","useCodedErrorDialog"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=b("deferredLoadComponent")(b("requireDeferred")("CometPageCoverVideoPlayer.react"));function a(a){var c,d=a.containerHeight,e=a.containerWidth,f=a.pageID,j=b("CometRelay").useRelayEnvironment();a=h.useContext(b("ProfileCometCoverPhotoEditContext"));var k=a.dispatch;a=a.state;var l=a.coverPhoto;a=b("useCodedErrorDialog")(b("ProfileCometCoverPhotoEditStrings").SAVE_FAILED);var m=a[0];a=h.useState(!1);var n=a[0],o=a[1];a=h.useState({x:(a=l==null?void 0:l.focusX)!=null?a:.5,y:(a=l==null?void 0:l.focusY)!=null?a:.5});var p=a[0],q=a[1];a=h.useCallback(function(a,b){q({x:a,y:b})},[]);var r=h.useCallback(function(){k({type:"REPOSITION_CANCEL"})},[k]),s=l==null?void 0:l.video,t=l==null?void 0:l.thumbnails,u=h.useState(!0),v=u[0],w=u[1];u=function(){w(!v)};var x=g._("Video automatisch in Endlosschleife abspielen"),y=h.useState(!1),z=y[0],A=y[1];y=h.useState(null);var B=y[0],C=y[1];y=h.useCallback(function(a){C(a)},[]);var D=h.useState(1),E=D[0],F=D[1];D=h.useCallback(function(a){F(a)},[]);var G=h.useState(0),H=G[0],I=G[1];G=h.useCallback(function(a){I(a)},[]);var J=b("usePagesCometCoverPhotoUpdateMutation")(),K=h.useCallback(function(){var a;o(!0);s!=null?b("CometPageCoverVideoUpdateMutation").updateCoverVideo(j,{containerHeight:(a=d)!=null?a:0,containerWidth:(a=e)!=null?a:0,loopActive:v,pageID:f,preferredThumbnailID:B,videoID:(a=l==null?void 0:l.id)!=null?a:""},{onCompleted:function(){k({type:"REPOSITION_CANCEL"})},onError:function(a){m(a),k({type:"REPOSITION_CANCEL"})}}):J(function(){k({type:"REPOSITION_CANCEL"})},function(a){m(a),k({type:"REPOSITION_CANCEL"})},p.x,p.y,f,(a=l==null?void 0:l.id)!=null?a:"")},[d,e,l,k,j,p.x,p.y,v,f,m,B,s,J]);c=s!=null?{height:0,mediaSource:h.jsx(i,{displayPlaybackControl:!0,shouldLoop:!0,video:s}),width:0}:{focusX:p.x,focusY:p.y,height:(c=l==null?void 0:l.height)!=null?c:0,mediaSource:(c=l==null?void 0:l.uri)!=null?c:"",width:(c=l==null?void 0:l.width)!=null?c:0};y=t!=null?h.jsx(b("PagesCometCoverVideoThumbnailPickerItems.react"),{onChange:y,onSetThumbnailLength:G,onThumbnailIndexChange:D,video:t}):null;return h.jsx(b("TetraishEntityHeaderCoverMedia.react"),{backgroundMedia:{focusX:p.x,focusY:p.y,height:(G=l==null?void 0:l.height)!=null?G:0,uri:(D=l==null?void 0:l.blurredURI)!=null?D:"",width:(G=l==null?void 0:l.width)!=null?G:0},coverActionBar:h.jsx(b("TetraishEntityHeaderCoverActionBar.react"),{confirmLabel:t!=null&&!z?g._("Weiter"):b("ProfileCometCoverPhotoEditStrings").REPOSITION_SAVE,description:s!=null?h.jsxs("div",{className:"df5l467t j83agx80 bp9cbjyn",children:[h.jsx(b("TetraText.react"),{color:"white",type:"headline4",children:x}),h.jsx("div",{className:"ozuftl9m j83agx80",children:h.jsx(b("CometToggle.react"),{onClick:u,size:"small",value:v,children:x})})]}):null,disabled:n,onCancel:r,onConfirm:t!=null&&!z?function(){return A(!0)}:K}),coverFooter:y!==null&&z?h.jsx(b("TetraishEntityHeaderCoverMediaFooter.react"),{footer:h.jsxs(b("TetraText.react"),{color:"white",type:"bodyLink4",children:[g._("W\u00e4hle ein Miniaturbild f\u00fcr dein Video aus"),h.jsx(b("CometMiddot.react"),{}),g._({"*":"{the index of the current thumbnail} \/ {the total number of thumbnails} Miniaturbildern","_1":"{the index of the current thumbnail} \/ {the total number of thumbnails} Miniaturbild"},[g._param("the index of the current thumbnail",E),g._param("the total number of thumbnails",H),g._plural(H)])]}),footerAlign:"end"}):null,coverMedia:y!==null&&z?{height:0,mediaSource:y,width:0}:c,isDraggable:!n&&s==null,onDrag:a})}}),null);
__d("PagesCometCoverSlideshowEditor.react",["fbt","CometDraggableList.react","CometErrorBoundary.react","CometPageCoverSlideshowPicker.react","CometPageCoverSlideshowUpdateMutation","CometRelay","CometToggle.react","ProfileCometCoverPhotoEditContext","ProfileCometCoverPhotoEditStrings","React","TetraishEntityHeaderCoverActionBar.react","TetraishEntityHeaderCoverMedia.react","TetraText.react","CometHScroll.react","CometHScrollChild.react","promiseDone","stylex","useCometConfirmationDialogComet","recoverableViolation","useCodedErrorDialog","useCometAlertDialog","PagesCometCoverSlideshowEditorQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=b("React"),k="/images/pages/finch/cover_placeholder-2x.png",l=5,m="empty_id",n={editBar:{display:"j83agx80",marginBottom:"bi6gxh9e",marginEnd:"o22cckgh",marginTop:"aov4n071",width:"k4urcfbm"},editBarItem:{marginEnd:"oi9244e8",width:"p8szoze4"},fullWidth:{width:"k4urcfbm"},toggle:{alignItems:"bp9cbjyn",display:"j83agx80",width:"m6gxxk8c"},toggleButton:{display:"j83agx80",marginStart:"ozuftl9m"}};function a(a){var c,d=a.containerHeight,e=a.containerWidth,f=a.pageID;a=j.useContext(b("ProfileCometCoverPhotoEditContext"));var o=a.dispatch,p=a.state;a=j.useMemo(function(){return{dispatch:o,state:p}},[o,p]);var q=p.coverPhoto,r=p.selectedSlideshowIndex,s=p.slideshowData;s=(c=s)!=null?c:[];c=j.useState(0);var t=c[0],u=c[1];c=j.useCallback(function(a){a!=null&&u(a.getBoundingClientRect().width)},[]);var v=b("useCodedErrorDialog")(b("ProfileCometCoverPhotoEditStrings").SAVE_FAILED_DEFAULT),w=v[0],x=j.useCallback(function(a){a!==r&&o({selectedSlideshowIndex:a,type:"CHOOSE_SLIDESHOW"})},[o,r]),y={x:.5,y:.5},z=h!==void 0?h:h=b("PagesCometCoverSlideshowEditorQuery.graphql");v=j.useState(!1);var A=v[0],B=v[1];v=j.useState(s);var C=v[0],D=v[1];v=function(){!A?(o({type:"EDIT_SLIDESHOW_STARTED"}),b("promiseDone")(b("CometRelay").fetchQuery(F,z,{pageID:f}).toPromise().then(function(a){a=(a=a==null?void 0:(a=a.page)==null?void 0:(a=a.cover)==null?void 0:a.prefilled_slideshow_photos)!=null?a:[];var b=[];a.map(function(a){var c;b.push({focus:y,image:{height:(c=a==null?void 0:(c=a.image)==null?void 0:c.height)!=null?c:0,uri:(c=a==null?void 0:(c=a.image)==null?void 0:c.uri)!=null?c:k,width:(c=a==null?void 0:(c=a.image)==null?void 0:c.width)!=null?c:0},mediaID:(c=a.id)!=null?c:""})});o({slideshowData:b,type:"EDIT_SLIDESHOW"});D(s)}))):(o({slideshowData:C,type:"EDIT_SLIDESHOW"}),D(s)),B(!A)};var E=g._("Lass Facebook Fotos ausw\u00e4hlen"),F=b("CometRelay").useRelayEnvironment(),G=b("useCometConfirmationDialogComet")(),H=G[0];G=j.useCallback(function(){H({body:g._("Wenn du zur\u00fcckgehst, werden deine \u00c4nderungen nicht gespeichert."),cancel:g._("Abbrechen"),confirm:g._("Slideshow verlassen"),title:g._("Slideshow verlassen?")},function(){o({type:"EDIT_SLIDESHOW_CANCEL"})})},[o,H]);var I=b("useCometAlertDialog")(),J=I[0];I=j.useCallback(function(){o({type:"EDIT_SLIDESHOW_STARTED"});var a=[];s.map(function(b){if(b.mediaID!=null&&b.mediaID!==m){var c;a.push({focus:{x:(c=(c=b.focus)==null?void 0:c.x)!=null?c:y.x,y:(c=(c=b.focus)==null?void 0:c.y)!=null?c:y.y},id:b.mediaID})}});if(a.length===0){J({body:g._("Um deine Slideshow zu speichern, musst du zun\u00e4chst Fotos hinzuf\u00fcgen. Um dein Titelbild zu l\u00f6schen, kehre zu deiner Seite zur\u00fcck und w\u00e4hle im Titelbereich \u201eEntfernen\u201c aus."),title:g._("Slideshow nicht gespeichert")});o({type:"EDIT_SLIDESHOW_CANCEL"});return}b("CometPageCoverSlideshowUpdateMutation").updatePageCoverSlideshow(F,{items:a,pageID:f},{onCompleted:function(){o({type:"EDIT_SLIDESHOW_CANCEL"})},onError:function(a){w(a),o({type:"EDIT_SLIDESHOW_CANCEL"})}})},[y,o,F,f,J,w,s]);q={focus:{x:y.x,y:y.y},image:{height:q==null?void 0:q.height,uri:q==null?void 0:q.uri,width:q==null?void 0:q.width},mediaID:m};(s===null||s.length===0)&&(s=[q]);q=!1;var K=j.useCallback(function(a,b){if(r!=null&&r<s.length){var c;s[(c=r)!=null?c:0].focus={x:a,y:b}}o({slideshowData:s,type:"EDIT_SLIDESHOW"})},[o,r,s]);c=j.jsx("div",{ref:c,children:j.jsx(b("CometHScroll.react"),{accessibilityLabel:g._("Titel-Slideshow der Seite"),itemsToScroll:1,onIndexChange:x,snapPosition:"center",startIndex:((c=r)!=null?c:0)===s.length?null:r,children:s.map(function(a,c){var f,h,i,l;f=(f=a==null?void 0:(f=a.image)==null?void 0:f.uri)!=null?f:k;h=(h=a==null?void 0:(h=a.image)==null?void 0:h.width)!=null?h:d;i=(i=a==null?void 0:(i=a.image)==null?void 0:i.height)!=null?i:e;(a==null?void 0:a.mediaID)===m&&(q=!0);(h===0||i===0)&&b("recoverableViolation")("Cover photo width / height can not be null, undefined. or 0","pages_consumer_experience_www");var n=a==null?void 0:a.focus;return j.jsx(b("CometHScrollChild.react"),{width:Math.round(t),children:j.jsx(b("TetraishEntityHeaderCoverMedia.react"),{coverMedia:{"aria-label":g._("Foto bearbeiten"),focusX:(l=n==null?void 0:n.x)!=null?l:.5,focusY:(l=n==null?void 0:n.y)!=null?l:.5,height:(n=i)!=null?n:0,mediaSource:f,width:(l=h)!=null?l:0},isDraggable:!0,onDrag:function(a,b){x(c),K(a,b)}})},(a==null?void 0:a.mediaID)!=null?(a==null?void 0:a.mediaID)+c:c)})})});c={height:0,mediaSource:c,width:0};var L=[];s.length<l&&q===!1&&L.push({image:null,mediaID:m});while(s.length+L.length<l)L.push(null);L=s.concat(L);var M=!1;L=L.map(function(a,c){var d;d=j.jsx("div",{className:(i||(i=b("stylex")))(n.editBarItem),children:j.jsx(b("CometErrorBoundary.react"),{children:j.jsx(b("CometPageCoverSlideshowPicker.react"),{disabled:M||p.isUploading,mediaID:a==null?void 0:a.mediaID,pageID:f,slideshowIndex:c,uri:a==null?void 0:(d=a.image)==null?void 0:d.uri})})},(a==null?void 0:a.mediaID)!=null?(a==null?void 0:a.mediaID)+c:c);M===!1&&(a==null?void 0:a.mediaID)===m&&(M=!0);return d});var N=function(a,b,c){if(b>=s.length||c>=s.length)return;s.splice(c,0,s.splice(b,1)[0]);o({slideshowData:s,type:"EDIT_SLIDESHOW"})};L=j.jsx("div",{className:(i||(i=b("stylex")))(n.editBar),children:j.jsx(b("CometDraggableList.react"),{direction:"horizontal",expanded:!0,items:L,onReorder:N,xstyle:n.fullWidth})});return j.jsx(b("ProfileCometCoverPhotoEditContext").Provider,{value:a,children:j.jsx(b("TetraishEntityHeaderCoverMedia.react"),{coverActionBar:j.jsx(b("TetraishEntityHeaderCoverActionBar.react"),{confirmLabel:b("ProfileCometCoverPhotoEditStrings").REPOSITION_SAVE,description:j.jsxs("div",{className:i(n.toggle),children:[j.jsx(b("TetraText.react"),{color:"white",type:"headline4",children:E}),j.jsx("div",{className:i(n.toggleButton),children:j.jsx(b("CometToggle.react"),{disabled:p.isUploading,onClick:v,size:"small",value:A,children:E})})]}),disabled:p.isUploading,onCancel:G,onConfirm:I}),coverHeader:L,coverMedia:c})})}}),null);